struct ponto
// precisa flag pra checar se estah ocupado com onibus ou nao?
// precisa de flag pra checar se tem passageiro ou nao
// id_ponto
// fila_passageiros
// fila_bloqueados
// heap_do_role
// porta_fechada
// id do busao parado

int is_ocupado()
{
	if (estah ocupado)
		return 1
	return 0;
}

/*envia um passageiro ao onibus*/
void give_passageiro()
{
	return primeiro_da_fila();
}

/*envia um onibus ao passageiro*/
busao_t give_onibus()
{
	if (porta_fechada)
		return NULL;
	else
		return id_do_busao_parado;
}

int do_embarque(passageiro_t p, onibus o, ponto p)
{
	if (first_queue(p)) {
		dequeue_fila_passageiros(p);
		enter_busao(o, p);
		return 1;
	}
	return 0;
}

main_ponto(void *id_pontobusao)
{
	int *id_ponto = (int *) id_pontobusao;
	cria_fila_embarque();

	cria_heap_espera(); //armazenar os que tentaram entrar na fila mas nao copnseguiram

	cria_heap_role();

	// barreira 1
	while (!todo_passageiro_ponto) {
		sleep();
	}

	// barreira 2
	while (!todo_onibus_ponto) {
		sleep();
	}

	/*TODO: code here*/
	while (tiver passageiros circulando) {

		while (tiver passageiros que forem desembarcar) {
			retirar_onibus_passageiros();
		}

		invocar_gerenciador_adormecidos();		// my_item = extract_from_queue();
		
		while (!onibus_is_lotado) {
			wait_var_cond();
		}
		
		fechar_porta(); // impede passageiros de tentraem subir	
	}
}
